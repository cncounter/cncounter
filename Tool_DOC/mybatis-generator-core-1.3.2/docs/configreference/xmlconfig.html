<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 16, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
  MyBatis Generator XML 配置文件参考手册</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120716" />
    <meta http-equiv="Content-Language" content="en" />
    <link rel="stylesheet" type="text/css" href="../mbgstyle.css" />
        </head>
  <body>
      
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                                <a href="../index.html" id="bannerLeft" title="MyBatis logo">
                                                                                                <img src="../images/logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">最后更新时间: 2012 年 07月 16日</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3.2</li>
                      
                
                    
      
                  </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>用户指南</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="简介">简介</a>
            </li>
                  <li class="none">
                          <a href="../whatsNew.html" title="新特性和更新">新特性和更新</a>
            </li>
                  <li class="none">
                          <a href="../quickstart.html" title="快速入门指南">快速入门指南</a>
            </li>
                                                                                                                          <li class="collapsed">
                          <a href="../running/running.html" title="运行 MyBatis Generator">运行 MyBatis Generator</a>
                  </li>
                  <li class="none">
                          <a href="../afterRunning.html" title="执行 MyBatis Generator 代码生成以后需要做什么">执行 MyBatis Generator 代码生成以后需要做什么</a>
            </li>
                  <li class="none">
                          <a href="../migratingFromIbator.html" title="从 Ibator 迁移">从 Ibator 迁移</a>
            </li>
                  <li class="none">
                          <a href="../migratingFromAbator.html" title="从 Abator 迁移">从 Abator 迁移</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                        <li class="expanded">
            <strong>XML 配置文件参考手册</strong>
                  <ul>
                      <li class="none">
                          <a href="../configreference/classPathEntry.html" title="&lt;classPathEntry&gt;">&lt;classPathEntry&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/columnOverride.html" title="&lt;columnOverride&gt;">&lt;columnOverride&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/columnRenamingRule.html" title="&lt;columnRenamingRule&gt;">&lt;columnRenamingRule&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/commentGenerator.html" title="&lt;commentGenerator&gt;">&lt;commentGenerator&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/context.html" title="&lt;context&gt;">&lt;context&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/generatedKey.html" title="&lt;generatedKey&gt;">&lt;generatedKey&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/generatorConfiguration.html" title="&lt;generatorConfiguration&gt;">&lt;generatorConfiguration&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/ignoreColumn.html" title="&lt;ignoreColumn&gt;">&lt;ignoreColumn&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/javaClientGenerator.html" title="&lt;javaClientGenerator&gt;">&lt;javaClientGenerator&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/javaModelGenerator.html" title="&lt;javaModelGenerator&gt;">&lt;javaModelGenerator&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/javaTypeResolver.html" title="&lt;javaTypeResolver&gt;">&lt;javaTypeResolver&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/jdbcConnection.html" title="&lt;jdbcConnection&gt;">&lt;jdbcConnection&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/plugin.html" title="&lt;plugin&gt;">&lt;plugin&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/properties.html" title="&lt;properties&gt;">&lt;properties&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/property.html" title="&lt;property&gt;">&lt;property&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/sqlMapGenerator.html" title="&lt;sqlMapGenerator&gt;">&lt;sqlMapGenerator&gt;</a>
            </li>
                      <li class="none">
                          <a href="../configreference/table.html" title="&lt;table&gt;">&lt;table&gt;</a>
            </li>
              </ul>
        </li>
                                                                                                                                            <li class="collapsed">
                          <a href="../generatedobjects/results.html" title="使用生成的 Objects">使用生成的 Objects</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="../usage/intro.html" title="各种数据库注意事项">各种数据库注意事项</a>
                  </li>
                                                                                                                                                              <li class="collapsed">
                          <a href="../reference/intro.html" title="其他参考信息">其他参考信息</a>
                  </li>
          </ul>
                       <h5>项目文档</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                          <a href="../project-info.html" title="项目文档相关信息">项目文档相关信息</a>
                  </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          


<h1>MyBatis GeneratorXML 配置文件参考手册</h1>
<p>大多数情况下, MyBatis Generator (MBG) 通过  XML
  配置文件进行驱动 . 配置文件告诉 MBG 如下信息:</p>

<ul>
  <li>如何连接到数据库(database)</li>
  <li>要生成哪些对象(objects),以及如何生成</li>
  <li>在执行对象生成时,需要使用哪些表(tables)</li>
</ul>

<p>下面是 MBG 的一个配置文件示例.  关于各个元素的详细信息以及属性值的情况,请查看(目录中)各自对应的页面.</p>
<div><pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE generatorConfiguration
  PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;
  &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;

&lt;generatorConfiguration&gt;
  &lt;classPathEntry location=&quot;/Program Files/IBM/SQLLIB/java/db2java.zip&quot; /&gt;

  &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3&quot;&gt;
    &lt;jdbcConnection driverClass=&quot;COM.ibm.db2.jdbc.app.DB2Driver&quot;
        connectionURL=&quot;jdbc:db2:TEST&quot;
        userId=&quot;db2admin&quot;
        password=&quot;db2admin&quot;&gt;
    &lt;/jdbcConnection&gt;

    &lt;javaTypeResolver &gt;
      &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot; /&gt;
    &lt;/javaTypeResolver&gt;

    &lt;javaModelGenerator targetPackage=&quot;test.model&quot; targetProject=&quot;\MBGTestProject\src&quot;&gt;
      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
      &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;
    &lt;/javaModelGenerator&gt;

    &lt;sqlMapGenerator targetPackage=&quot;test.xml&quot;  targetProject=&quot;\MBGTestProject\src&quot;&gt;
      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
    &lt;/sqlMapGenerator&gt;

    &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;test.dao&quot;  targetProject=&quot;\MBGTestProject\src&quot;&gt;
      &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
    &lt;/javaClientGenerator&gt;

    &lt;table schema=&quot;DB2ADMIN&quot; tableName=&quot;ALLTYPES&quot; domainObjectName=&quot;Customer&quot; &gt;
      &lt;property name=&quot;useActualColumnNames&quot; value=&quot;true&quot;/&gt;
      &lt;generatedKey column=&quot;ID&quot; sqlStatement=&quot;DB2&quot; identity=&quot;true&quot; /&gt;
      &lt;columnOverride column=&quot;DATE_FIELD&quot; property=&quot;startDate&quot; /&gt;
      &lt;ignoreColumn column=&quot;FRED&quot; /&gt;
      &lt;columnOverride column=&quot;LONG_VARCHAR_FIELD&quot; jdbcType=&quot;VARCHAR&quot; /&gt;
    &lt;/table&gt;

  &lt;/context&gt;
&lt;/generatorConfiguration&gt;

</pre></div>
<p>关于上面的配置文件,有如下需要注意的地方:</p>
<ul>
  <li>文件指明了使用遗留的(legacy) DB2 CLI 驱动程序(driver)来连接到数据库,
      同时也指明了在哪里可以找到驱动程序类库文件.</li>
  <li>The Java Type Resolver should not force the use of BigDecimal fields - this means that
      integral types (Short, Integer, Long, etc.) will be substituted if possible.  This feature
      is an attempt to make database DECIMAL and NUMERIC columns easier to deal with.</li>
  <li>The Java model generator should use sub-packages.  This means that the generated model
      objects will be placed in a package called <tt>test.model.db2admin</tt> in this case
      (because the table
      is in the DB2ADMIN schema).  If the <tt>enableSubPackages</tt> attribute was set to
      <tt>false</tt>,
      then the package would be <tt>test.model</tt>.  The Java model generator should
      also trim strings.
      This means that the setters for any String properties will call the <tt>trim</tt>
      function -
      this is useful if your database might return blank characters at the end of character
      columns.</li>
  <li>The SQL Map generator should use sub-packages.  This means that the generated XML files
      will be placed in a package called <tt>test.xml.db2admin</tt> in this case
      (because the table
      is in the DB2ADMIN schema).  If the <tt>enableSubPackages</tt> attribute was set
      to <tt>false</tt>,
      then the package would be <tt>test.xml</tt>.</li>
  <li>The DAO generator should use sub-packages.  This means that the generated DAO classes
      will be placed in a package called <tt>test.dao.db2admin</tt> in this case
      (because the table
      is in the DB2ADMIN schema).  If the <tt>enableSubPackages</tt> attribute was set
      to <tt>false</tt>,
      then the package would be <tt>test.dao</tt>.  The DAO generator should generate
      mapper interfaces that reference an XML configuration for MyBatis.
  </li>
  <li>The file specifies only one table will be introspected, but many more could be specified.
      Important notes about the specified table include:
    <ul>
      <li>The generated objects will be based on the name Customer (<tt>CustomerKey</tt>,
          <tt>Customer</tt>,
          <tt>CustomerMapper</tt>, etc.) - rather than on the table name.</li>
      <li>Actual column names will be used as properties.  If this property were set to
          <tt>false</tt> (or not specified), then MBG would attempt to camel case
          the column
          names.  In either case, the name can be overridden by the
          <tt>&lt;columnOverride&gt;</tt>
          element</li>
      <li>The column has a generated key, it is an identity column, and the database type is DB2.
          This will cause
          MBG to generate the proper
          <tt>&lt;selectKey&gt;</tt> element in the generated
          <tt>&lt;insert&gt;</tt>
          statement so that the newly generated key can be returned (using DB2 specific SQL).</li>
      <li>The column <tt>DATE_FIELD</tt> will be mapped to a property called
          <tt>startDate</tt>.  This will
          override the default property which would be
          <tt>DATE_FIELD</tt> in this case, or <tt>dateField</tt>
          if the <tt>useActualColumnNames</tt> property was set to
          <tt>false</tt>.</li>
      <li>The column <tt>FRED</tt> will be ignored.  No SQL will list the field,
          and no Java property will be generated.</li>
      <li>The column <tt>LONG_VARCHAR_FIELD</tt> will be treated as a
          <tt>VARCHAR</tt> field, regardless of the actual data type.</li>
    </ul>
  </li>
</ul>


                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2010-2012
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
