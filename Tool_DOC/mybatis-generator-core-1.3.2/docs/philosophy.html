<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 16, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
  Philosophy and Apology</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120716" />
    <meta http-equiv="Content-Language" content="en" />
    <link rel="stylesheet" type="text/css" href="mbgstyle.css" />
        </head>
  <body>
      
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                                <a href="index.html" id="bannerLeft" title="MyBatis logo">
                                                                                                <img src="images/logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">最后更新时间: 2012 年 07月 16日</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3.2</li>
                      
                
                    
      
                  </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>用户指南</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="简介">简介</a>
            </li>
                  <li class="none">
                          <a href="whatsNew.html" title="新特性和更新">新特性和更新</a>
            </li>
                  <li class="none">
                          <a href="quickstart.html" title="快速入门指南">快速入门指南</a>
            </li>
                                                                                                                          <li class="collapsed">
                          <a href="running/running.html" title="运行 MyBatis Generator">运行 MyBatis Generator</a>
                  </li>
                  <li class="none">
                          <a href="afterRunning.html" title="执行 MyBatis Generator 代码生成以后需要做什么">执行 MyBatis Generator 代码生成以后需要做什么</a>
            </li>
                  <li class="none">
                          <a href="migratingFromIbator.html" title="从 Ibator 迁移">从 Ibator 迁移</a>
            </li>
                  <li class="none">
                          <a href="migratingFromAbator.html" title="从 Abator 迁移">从 Abator 迁移</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="configreference/xmlconfig.html" title="XML 配置文件参考手册">XML 配置文件参考手册</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="generatedobjects/results.html" title="使用生成的 Objects">使用生成的 Objects</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="usage/intro.html" title="各种数据库注意事项">各种数据库注意事项</a>
                  </li>
                                                                                                                                                                        <li class="expanded">
                          <a href="reference/intro.html" title="其他参考信息">其他参考信息</a>
                    <ul>
                      <li class="none">
                          <a href="reference/building.html" title="Building from Source">Building from Source</a>
            </li>
                      <li class="none">
                          <a href="reference/extending.html" title="Extending MyBatis Generator">Extending MyBatis Generator</a>
            </li>
                      <li class="none">
                          <a href="reference/pluggingIn.html" title="Implementing Plugins">Implementing Plugins</a>
            </li>
                      <li class="none">
                          <a href="reference/logging.html" title="Logging Information">Logging Information</a>
            </li>
                      <li class="none">
                          <a href="reference/plugins.html" title="Supplied Plugins">Supplied Plugins</a>
            </li>
                      <li class="none">
            <strong>Design Philosophy</strong>
          </li>
              </ul>
        </li>
          </ul>
                       <h5>项目文档</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="项目文档相关信息">项目文档相关信息</a>
                  </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          


<h1>Philosophy and Apology</h1>
<p>Some philosophical questions might be raised by this tool because the
 tool is more focused on database tables than on the domain model.
 We will take a few paragraphs to talk about this approach.</p>

<p>First of all, this tool does what it does.  We are not making any kind of statement
about how projects should, or should not, be structured.  In general we are strong proponents
of rich domain models - but creating a rich domain model is quite a different thing from
answering the question of how that model should be persisted.</p>

<p>If your particular design philosophy  is that the domain model drives all decisions, and
 that the database design is subservient to the domain model, then this tool - and MyBatis
 itself - may not be the proper fit for your application.  In that case, we would suggest
 taking a serious look at <a class="externalLink" href="http://www.hibernate.org" target="_blank">Hibernate</a>
 - it may fit
 more closely with your application design and philosophy.</p>

<p>But not all projects fit that paradigm.  Very few truly enterprise
 class applications do.  MyBatis can be of great help in projects where
 database design is seen as a co-equal to domain object design.
MyBatis is not an object relational mapper, and does not attempt to transparently
persist objects.  So it falls on application developers to write SQL to interact with
database tables.</p>

<p>In large or enterprise class projects, many of these factors are quite common:</p>
<ul>
  <li>Database design is often a separate function (with separate management) from OO domain
      design
  </li>
  <li>Database designers do not have OO tools (like inheritance), so they don't think
      in OO terms</li>
  <li>Application designers do not have complete control over the final form of database tables.
    For example, the data that seems to fit in one object for the application, may be split
    into several tables in the database.</li>
  <li>The database design often ends up quite different from the OO design, leading to
   a significant mismatch between tables and objects.</li>
</ul>
<p>
These factors are primary indicators that MyBatis is a good candidate tool for your
application, and this is the type of 项目文档where MyBatis Generator can make a significant impact.
So how should MyBatis be used in this case?</p>

<p>The Data Access Object(DAO) pattern is still a primary pattern.  MyBatis Generator can generate a basic
set of objects that match each individual table.  Generated code is transaction neutral.  This means
that it is easy to extend the generated code to add transaction attributes if more than one table is involved in
a transaction.  Or, you could create another DAO (or service method) that more closely matches the
persistence needs of a domain object
and make use of one or more generated objects in a single transaction.</p>

<p>As an example, consider a typical <tt>Order</tt> object - the typical header/detail problem.
In some environments such an object would be persisted into at least 4 tables -
two key tables, a &quot;header&quot; table, and a &quot;detail&quot; table (again, we are not making any kind of
statement about whether this is &quot;correct&quot; design, just stating a fact).
Your application should still interact with interact with the <tt>Order</tt> object, and
there might
be a <tt>saveOrder(Order order)</tt> method
somewhere (in an OrderDAO, or a service object).  That method
would interact with the generated code for each of the 4 tables involved.</p>

<p>What has code generation bought us in this case?  Several things:</p>
<ul>
  <li>Reuse - it is likely that some tables will need to be accessed from multiple different DAOs
  or service methods.  Creating a DAO for each table promotes reuse and consistency within the
  application.</li>
  <li>Database abstraction - a service layer typically defines persistence in your application.  Those
    methods can be stabilized fairly quickly.  As database design evolves:
    <ol style="list-style-type: decimal">
      <li>Code can quickly be regenerated as the tables change</li>
      <li>The service methods can be modified as necessary</li>
      <li>Higher layers in the application remain unchanged</li>
    </ol>
  </li>
  <li>Developer productivity - generating table based DAOs is quick and repeatable and error free.
    Developers can concentrate on Object persistence, and on complex join queries if needed.</li>
  <li>Fewer defects - because the most tedious and error prone part of any application (getting the
   SQL to match the objects) is automated.</li>
</ul>


                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2010-2012
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
